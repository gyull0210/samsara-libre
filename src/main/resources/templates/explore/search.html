<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org"
> 
<!-- 
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layout/defaultLayout}"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
 -->
<head>    
  <title>삼사라 도서관</title>
  <th:block layout:fragment="css">
    <link rel="stylesheet" href="../../static/css/common.css" th:href="@{/static/css/common.css}" /> 
    <script src="https://kit.fontawesome.com/f31fa860a2.js" crossorigin="anonymous"></script>      
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.1/dist/cdn.min.js"></script>     
  </th:block>
</head>     
<body>    
  <div class="relative flex" x-data="{ openSidebar : false }">
    <!-- sidebar -->
    <aside class="fixed z-50 w-56 h-full overflow-y-scroll transition duration-300 ease-out -translate-x-56 bg-gray-900 pt-14" 
      :class="openSidebar ? 'translate-x-0':'-translate-x-56'"
    >
      <div class="px-6 pt-4">
        <ul class="flex flex-col space-y-2">
          <li class="relative text-gray-500 hover:text-white focus-within:text-white">
            <div class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none">
              <i class="fa-solid fa-table-columns"></i>
            </div>
            <a href="#"
              class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"        
            >대시보드
            </a>
              </li>
              <li class="" x-data="{ open: false }">
                <div
                  class="relative flex items-center justify-between text-gray-500 hover:text-white focus-within:text-white"
                  x-on:click="open = ! open"
                >
                  <div class="flex items-center w-full">
                    <div
                      class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                    >
                      <i class="fa-solid fa-book-open-reader"></i>
                    </div>
                    <a href="#"
                      class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                      >출납관리</a>
                  </div>
                  <button class="absolute right-0 flex items-center p-1" tabindex="-1">
                    <i class="fa-solid fa-chevron-down fa-xs"></i>
                  </button>
                </div>
                <div class="pt-2 pl-4" x-show="open" x-transition>
                  <ul class="flex flex-col pl-2 text-gray-500 border-l border-gray-700">
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >대출</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >반납</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >예약</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >연체관리</a
                      >
                    </li>
                  </ul>
                </div>
              </li>
              <li class="" x-data="{ open: false }">
                <div
                  class="relative flex items-center justify-between text-gray-500 hover:text-white focus-within:text-white"
                  x-on:click="open = ! open"
                >
                  <div class="flex items-center w-full">
                    <div
                      class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                    >
                      <i class="fa-solid fa-book"></i>
                    </div>
                    <a href="#"
                      class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                      >장서관리</a>
                  </div>
                  <button class="absolute right-0 flex items-center p-1" tabindex="-1">
                    <i class="fa-solid fa-chevron-down fa-xs"></i>
                  </button>
                </div>
                <div class="pt-2 pl-4" x-show="open" x-transition>
                  <ul class="flex flex-col pl-2 text-gray-500 border-l border-gray-700">
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >장서조회</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >장서등록</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >유지보수</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >Video Library</a
                      >
                    </li>
                  </ul>
                </div>
              </li>
              <li class="relative text-gray-500 hover:text-white focus-within:text-white" x-data="{ open: false }">
                <div
                  class="relative flex items-center justify-between text-gray-500 hover:text-white focus-within:text-white"
                  x-on:click="open = ! open"
                >
                  <div class="flex items-center w-full">
                    <div
                      class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                    >
                      <i class="fa-solid fa-user"></i>
                    </div>
                    <a href="#"
                      class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                      >회원관리</a>
                  </div>
                  <button class="absolute right-0 flex items-center p-1" tabindex="-1">
                    <i class="fa-solid fa-chevron-down fa-xs"></i>
                  </button>
                </div>
                <div class="pt-2 pl-4"  x-show="open" x-transition> 
                  <ul class="flex flex-col pl-2 text-gray-500 border-l border-gray-700">
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >회원조회</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >회원등록</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >제재된 회원</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >회원설정</a
                      >
                    </li>
                  </ul>
                </div>
              </li>
              <li class="relative text-gray-500 hover:text-white focus-within:text-white" x-data="{ open: false }">
                <div
                  class="relative flex items-center justify-between text-gray-500 hover:text-white focus-within:text-white"
                  x-on:click="open = ! open"
                >
                  <div class="flex items-center w-full">
                    <div
                      class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                    >
                      <i class="fa-solid fa-chart-line"></i>
                    </div>
                    <a href="#"
                      class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                      >통계</a>
                  </div>
                  <button class="absolute right-0 flex items-center p-1" tabindex="-1">
                    <i class="fa-solid fa-chevron-down fa-xs"></i>
                  </button>
                </div>
                <div class="pt-2 pl-4" x-show="open" x-transition>
                  <ul class="flex flex-col pl-2 text-gray-500 border-l border-gray-700">
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >출납 통계</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >보유도서 현황</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >이용자 현황</a
                      >
                    </li>
                  </ul>
                </div>
              </li>
              <li class="relative text-gray-500 hover:text-white focus-within:text-white" x-data="{ open: false }">
                <div
                  class="relative flex items-center justify-between text-gray-500 hover:text-white focus-within:text-white"
                  x-on:click="open = ! open"
                >
                  <div class="flex items-center w-full">
                    <div
                      class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                    >
                      <i class="fa-solid fa-comments"></i>
                    </div>
                    <a href="#"
                      class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                      >게시판</a>
                  </div>
                  <button class="absolute right-0 flex items-center p-1" tabindex="-1">
                    <i class="fa-solid fa-chevron-down fa-xs"></i>
                  </button>
                </div>
                <div class="pt-2 pl-4" x-show="open" x-transition>
                  <ul class="flex flex-col pl-2 text-gray-500 border-l border-gray-700">
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >공지사항</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >관리자게시판</a
                      >
                    </li>
                    <li>
                      <a
                        href="#"
                        class="inline-block w-full px-4 py-2 text-xs rounded hover:bg-gray-800 hover:text-white focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
                        >Q&A</a
                      >
                    </li>                    
                  </ul>
                </div>
              </li>              
              <li class="relative text-gray-500 hover:text-white focus-within:text-white">
                <div
                  class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                >
                  <i class="fa-solid fa-life-ring"></i>
                </div>
                <a
                  href="#"
                  class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                  >지원 및 문의</a
                >
              </li>
            </ul>
          </div>
          <div class="px-6 pt-8">
            <hr class="border-gray-700" />
          </div>
          <div class="px-6 pt-4 pb-8">
            <ul>
              <li class="relative text-gray-500 hover:text-white focus-within:text-white">
                <div
                  class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                >
                  <i class="fa-solid fa-gear"></i>
                </div>
                <a
                  href="#"
                  class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                  >설정</a
                >
              </li>
              <li class="relative text-gray-500 hover:text-white focus-within:text-white">
                <div
                  class="absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"
                >
                  <i class="fa-solid fa-bell"></i>
                </div>
                <a
                  href="#"
                  class="inline-block w-full py-2 pl-8 pr-4 text-xs rounded hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:bg-gray-800"
                  >알림</a>
              </li>             
            </ul>
          </div>
          <div class="pl-6 pr-4 py-4 bg-[#232529] flex items-center justify-between">
            <div class="flex items-center">
              <div
                class="relative w-8 h-8 rounded-full before:absolute before:w-2 before:h-2 before:bg-green-500 before:rounded-full before:right-0 before:bottom-0 before:ring-1 before:ring-white"
              >
                <img
                  class="rounded-full"
                  src="https://images.unsplash.com/photo-1527980965255-d3b416303d12?ixid=MnwxMjA3fDB8MHxzZWFyY2h8OXx8YXZhdGFyfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"
                  alt=""
                />
              </div>
              <div class="flex flex-col pl-3">
                <div class="text-sm text-gray-50">Jane Doeson</div>
                <span class="text-xs text-[#acacb0] font-light tracking-tight">
                  janedoeson@gmail.com
                </span>
              </div>
            </div>
            <button
              class="text-gray-400 bg-gray-700 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 focus:text-white"
            >
              <svg class="w-4 h-4 stroke-current" fill="none" viewBox="0 0 24 24">
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                  d="M15.25 10.75L12 14.25L8.75 10.75"
                ></path>
              </svg>
            </button>
          </div>
    </aside>
    <!--main-->
    <div class="relative flex flex-col w-full min-h-screen">
      <header class="fixed top-0 right-0 z-50 w-full bg-white border-b border-gray-300 h-14">
        <div class="px-4 pt-2 max-w-screen-lg mx-auto">
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <div class="relative mr-2 lg:hidden">
                <button class="text-gray-400 hover:text-gray-200" type="button" x-on:click="openSidebar = ! openSidebar">
                  <i class="fa-solid fa-bars fa-lg"></i>
                </button>
              </div>
              <a href="#" class="flex items-center justify-center">
                <div class="p-1.5 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-900">
                  <svg class="fill-sky-300 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="28" height="28">              
                    <g>
                      <path d="M347.992 22.832c-51.712.07-101.096 34.503-109.127 86.984-6.792 44.385 21.9 91.457 68.047 97.996 33.752 4.784 69.154-16.666 73.35-50.78 2.95-23.992-12.95-49.414-37.766-52.053-5.27-.562-10.605.153-15.478 1.91-7.48 1.888-13.638 7.08-16.848 13.93-1.555 2.91-2.556 6.132-2.83 9.608-.395 5 1.114 10.15 3.95 14.144 4.44 7.53 12.626 12.586 22 12.586 7.837 0 14.846-3.534 19.528-9.094-1.186 6.693-5.074 12.374-9.923 16.1-5.798 4.454-12.964 6.677-20.323 6.29-21.858-1.142-35.413-21.852-33.86-41.5 2.225-28.175 29.754-45.323 55.76-42.558 36.215 3.852 58.474 39.28 54.337 72.918-5.608 45.582-51.27 73.13-94.52 67-35.455-5.024-62.33-28.824-75.702-59.06-25.502-12.462-54.185-18.076-82.324-15.568-73.17 6.52-135.548 70.878-128.2 146.78 5.672 58.588 56.423 108.3 115.655 101.75 44.613-4.93 82.65-44.843 77.028-91.126-4.112-33.853-33.983-62.497-68.006-57.717-23.93 3.362-44.37 25.31-40.498 49.973 2.195 13.982 13.266 26.085 26.428 27.617 1.503.276 3.05.426 4.633.426 14.097 0 25.523-11.428 25.523-25.525 0-10.782-6.687-19.994-16.14-23.734 6.22-.15 12.117 2.062 16.607 5.505 5.8 4.448 9.8 10.797 11.332 18.004 4.548 21.41-11.938 39.867-31.315 43.456-27.79 5.148-51.47-17.014-55.527-42.854-5.648-35.982 22.8-66.658 56.358-71.373 45.47-6.39 83.886 30.595 89.154 73.966 1.82 14.983.02 29.355-4.59 42.527 2.383 27.298 11.775 53.85 27.447 76.166 42.22 60.117 129.123 81.955 191.172 37.628 47.897-34.216 65.572-103.043 30.295-151.074-26.57-36.177-80.135-49.16-117.4-21.143-27.258 20.495-37.133 60.7-15.988 87.78 14.873 19.044 44.09 25.772 63.51 10.083 12.984-10.49 17.54-30.37 6.88-42.858-2.156-2.525-4.954-4.495-7.997-5.785-1.582-.81-3.27-1.47-5.055-1.95-13.617-3.648-27.613 4.433-31.26 18.05-.784 2.92-1.024 5.86-.79 8.71-3.532-5.438-4.66-11.908-3.897-17.728.952-7.248 4.448-13.887 9.924-18.818 16.265-14.65 40.494-9.6 53.287 5.39 18.35 21.496 10.997 53.09-9.35 69.526-28.333 22.888-69.12 13.59-89.978-13.12-28.26-36.19-15.44-87.96 19.482-114.214 17.342-13.038 37.328-18.982 57.246-18.992 12.108-.007 24.188 2.19 35.635 6.306 19.393-21.698 32.76-48.573 37.747-77.1 12.655-72.385-33.343-149.295-108.54-161.83-6.347-1.058-12.734-1.567-19.085-1.558z" 
                      ></path>
                    </g>
                  </svg>
                </div>
                <div class="text-lg font-semibold text-black">
                삼사라도서관
                </div>
              </a>
            </div>

            <div class="hidden lg:flex gap-6 ml-4">
              <div class="font-bold hover:text-blue-500">자료검색</div>
              <div class="font-bold hover:text-blue-500">도서관서비스</div>
              <div class="font-bold hover:text-blue-500">열린마당</div>
              <div class="font-bold hover:text-blue-500">나의도서관</div>
            </div>

            <div class="hidden lg:flex relative gap-4">
              <div class="relative">
                <button 
                class="text-gray-400 hover:text-gray-600 before:absolute before:w-2 before:h-2 before:bg-green-500 before:rounded-full before:right-0 before:top-0 before:ring-1 before:ring-white" 
                type="button"
                >
                  <i class="fa-solid fa-bell fa-lg"></i>
                </button>
              </div>
              <div class="relative flex items-center gap-4">
                <div class="">
                  <span class="text-gray-400">ㅇㅇㅇ 이용자님</span>
                </div>
              </div>
            </div>
          </div>
        </div>  
      </header>
      <main class="relative w-full h-full bg-no-repeat bg-cover bg-center bg-fixed backdrop-brightness-50" style="background-image: url('../../static/img/janko-ferlic-sfL_QOnmy00-unsplash.jpg');">
        <div class="w-full h-screen pt-14">
          <div class="relative flex items-center px-4">
            <form method="post" class="w-full h-72 flex items-center" onsubmit="return false;">              
            <div class="w-full max-w-screen-md mx-auto flex gap-4 bg-white py-2 px-4 border border-gray-300 focus-within:outline focus-within:outline-sky-400">        
              <select id="srchTarget" class="py-2 px-4 border-none focus:ring-transparent focus:border-transparent focus:outline-none">
                <option value="total">전체</option>
                <option value="title">제목</option>
                <option value="author">저자</option>
                <option value="publisher">발행자</option>
                <option value="">발행연도</option>
              </select>
              <input id="keyword" class="w-full border-none border-r focus:ring-transparent focus:border-transparent focus:outline-none" placeholder="검색어를 입력하세요" type="text">
              <button class="whitespace-nowrap bg-gray-600 px-6 py-2 border border-gray-300 text-white" x-on:click="search();" type="submit">검색</button>
            </div>
            </form>
          </div>
          <div class="w-full h-full bg-white">
            <div class="w-full max-w-screen-lg mx-auto ">
              <div class="flex justify-end">
                <form>
                  <div>
                    <select>
                      <option value="">서명</option>
                      <option value="">저자</option>
                      <option value="">발행처</option>
                      <option value="">키워드</option>
                    </select>
                    <input type="text"/>
                    <button class="px-4 py-2 text-white bg-sky-400" type="button">결과 내 재검색</button>
                    <button class="px-4 py-2 text-white bg-sky-400" type="button">엑셀 저장</button>
                  </div>
                </form>
              </div>
              <div class="flex items-center justify-between h-20 px-4 mt-8 bg-stone-200 ">
                <div class="flex items-center">
                  <input class="w-6 h-6 rounded ring-transparent focus:shadow-none focus:ring-transparent" type="checkbox"/>
                  <label class="ml-2" for="">전체</label>
                </div>
      
                <div class="">
                  <select>
                    <option value="">제목</option>
                    <option value="">저자</option>
                    <option value="">발행처</option>
                    <option value="">발행연도</option>
                  </select>
                  <select>
                    <option value="desc">오름차순</option>
                    <option value="asc">내림차순</option>
                  </select>
                  <select id="pageSize">
                    <option value="10">10건</option>
                    <option value="20">20건</option>
                    <option value="30">30건</option>
                    <option value="40">40건</option>
                    <option value="50">50건</option>
                  </select>
                </div>
              </div>
              <div id="result_wrap">
                
              </div>
            </div>

            <div class="w-full h-24 bg-sky-100">

            </div> 
          </div>        
        </div>
      </main>  
    </div>
  </div>
  <script>
    const search = async() => {
      let key = "73ca3d1987bcb7cdcc7166b3fa0cb8a7ffe7e63721f323cad162f7a63de929aa"
      let url = "https://www.nl.go.kr/NL/search/openApi/search.do?systemType=오프라인자료&key=";
      let detailUrl = "https://www.nl.go.kr/NL/search/openApi/search.do?key=73ca3d1987bcb7cdcc7166b3fa0cb8a7ffe7e63721f323cad162f7a63de929aa&detailSearch=true";
      let srchTarget = document.getElementById("srchTarget").value;
      let kwd = document.getElementById("keyword").value;
      let pageNum = "1";
      let pageSize = document.getElementById("pageSize").value;
      let title = "f1=title=&v1"
      let author = "f2=author=&v2"
      if(srchTarget !== "total" && srchTarget !== "title"){
        let response = await fetch("https://www.nl.go.kr/NL/search/openApi/searchKolisNet.do?key=73ca3d1987bcb7cdcc7166b3fa0cb8a7ffe7e63721f323cad162f7a63de929aa&detailSearch=true"+"&apiType=json"+"&srchTarget"+srchTarget+"&"+author+"="+kwd);
        let res = await response.json();

        console.log(res);
        
      showList(res);
      
      } else {
      let response = await fetch(url+key+"&apiType=json"+"&srchTarget"+srchTarget+"&kwd="+kwd+"&pageSize="+pageSize);
      let res = await response.json();
      showList(res);
      console.log(res);
      }
      // //페이지네이션
      // const pagination = ({res, pageNum, pageSize}) => {
	    // // 현재 게시물의 전체 개수가 pageSize 이하면 pagination을 숨깁니다.
	    // if (res.total <= pageSize) return; 

	    // const totalPage = Math.ceil(res.total / pageSize);
	    // const pageGroup = Math.ceil(pageNum / 10);
	
	    // let last = pageGroup * pageCount;
	    // if (last > totalPage) last = totalPage;
	    // var first = last - (10 - 1) <= 0 ? 1 : last - (10 - 1);

	    // const fragmentPage = document.createDocumentFragment();
      // if (prev > 0) {
	    //   var allpreli = document.createElement('li');
	    //   allpreli.insertAdjacentHTML("beforeend", `<a href='#js-bottom' id='allprev'>&lt;&lt;</a>`);
	
	    //   var preli = document.createElement('li');
	    //   preli.insertAdjacentHTML("beforeend", `<a href='#js-ottom' id='prev'>&lt;</a>`);
	   
	    //   fragmentPage.appendChild(allpreli);
	    //   fragmentPage.appendChild(preli);
	    // }

      // for (var i = first; i <= last; i++) {
	    //   const li = document.createElement("li");
	    //   li.insertAdjacentHTML("beforeend", `<a href='#js-bottom' id='page-${i}' data-num='${i}'>${i}</a>`);
	    //   fragmentPage.appendChild(li);
      // }

      // if (last < totalPage) {
	    //   var allendli = document.createElement('li');
	    //   allendli.insertAdjacentHTML("beforeend", `<a href='#js-bottom'  id='allnext'>&gt;&gt;</a>`);
	
	    //   var endli = document.createElement('li');
	    //   endli.insertAdjacentHTML("beforeend", `<a  href='#js-bottom'  id='next'>&gt;</a>`);
	
	    //   fragmentPage.appendChild(endli);
	    //   fragmentPage.appendChild(allendli);
      // }

      //   document.getElementById('js-pagination').appendChild(fragmentPage);
		  //   // 페이지 목록 생성
      // }

      function showList (res) {       
        let str="";
        let resultWrap = document.getElementById("result_wrap");
        if(res == null || res.length == 0){
			    resultWrap.innerHTML = "";		
			    return;
		    }
        for(let i = 0, len = res.result.length||0; i<len; i++){
          str += `<div class="flex">`;
          str += `  <div class="relative flex items-center justify-center w-[150px] h-[200px] bg-gray-100 overflow-hidden">`;
          str += `      <img class="object-cover w-full h-full" src="${res.result[i].imageUrl != "" ? `https://cover.nl.go.kr/`+res.result[i].imageUrl : '../../static/img/noimage.png'}" alt="`+res.kwd+`책표지" >`;
          str += `  </div>`;
          str += `  <div class="p-4">`;
          str += `    <div class="flex flex-col">`;
          str += `       <div class="">분야: `+res.result[i].kdcName1s+` 종류: `+res.result[i].typeName+" "+res.result[i].mediaName+`</div>`;
          str += `       <div> 청구기호:`+res.result[i].callNo+` 십진분류법:`+res.result[i].classNo+`<p class="font-bold"> 제목:`+res.result[i].titleInfo.replace(/<(\/span|span)([^>]*)>/gi,"")+`</p></div>`;
          str += `       <div>`;
          str += `         <div>저자:`+res.result[i].authorInfo+` 출판사: `+res.result[i].pubInfo+` 발행연도: `+res.result[i].pubYearInfo+`</div>`;
          str += `         <div>ISBN: `+res.result[i].isbn+` 등록번호:`+res.result[i].controlNo+`</div>`;
          str += `         <div>소장처:`+res.result[i].placeInfo+`</div>`;
          str += `       </div>`;
          str += `     </div>`;
          str += `   </div>`;
          str += `</div>`;
        }

        // let startP;
        // let endP = Math.ceil(res.total/pageSize)*pageSize;
        // let realEnd = Math.ceil(res.total/pageSize);
        // if(realEnd<endP){
        //   endP = readEnd;
        // }
        // let prev;
        // let next;

        // prev = this.startP > 1;
        // next = this.endP <realEnd;
  
        // str += `<div id="pagination" class="flex flex-row items-center justify-center gap-6 mt-12">`;
        // str += `<a class="block px-3 py-1.5"><i class="text-gray-600 fa-solid fa-chevron-left fa-lg"></i></a>`;
        //   for(let i = 0, len = res.total/res.pageSize||0; i<len; i++){
        //     str += `  <a class="block rounded-lg border px-3 py-1.5 ${res.pageNum ==startP ? "bg-sky-400 text-white":""}" href="`+url+key+`&apiType=json&kwd=`+kwd+`&pageNum=${pageNum===res.total?pageNum:res.pageNum}&pageSize=${res.pageSize}">`+res.pageNum+`</a>`;
        //   }
        // str += `<a class="block px-3 py-1.5"><i class="text-gray-600 fa-solid fa-chevron-right fa-lg"></i></a>`;   
        // str += `</div>`;

        str += `<div id="pagination" class="flex flex-row items-center justify-center gap-6 mt-12">`;
        str += `    <a class="block p-3 text-gray-600 rounded-lg hover:text-white hover:bg-sky-400"><i class="fa-solid fa-angles-left fa-lg"></i></a>`;
        str += `    <a class="block p-3"><i class="text-gray-600 fa-solid fa-chevron-left fa-lg"></i></a>`;
        str += `    <a class="block rounded-lg border px-3 py-1.5 hover:text-white hover:bg-sky-400">1</a>`;
        str += `    <a class="block rounded-lg border px-3 py-1.5">2</a>`;
        str += `    <a class="block rounded-lg border px-3 py-1.5">3</a>`;
        str += `    <a class="block rounded-lg border px-3 py-1.5">4</a>`;
        str += `    <a class="block rounded-lg border px-3 py-1.5">5</a>`;
        str += `    <a class="block p-3"><i class="text-gray-600 fa-solid fa-chevron-right fa-lg"></i></a>`;
        str += `    <a class="block p-3"><i class="text-gray-600 fa-solid fa-angles-right fa-lg"></i></a>`;
        str += `</div>`;

        resultWrap.innerHTML=str;
      }
    }
  </script>
</body>
</html>    